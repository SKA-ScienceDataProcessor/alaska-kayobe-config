---
# Add extra Kolla global configuration here.
rabbitmq_monitoring_user: "monitoring"

# Although Kolla-Ansible provides full support for Fernet tokens, it still
# defaults to UUID.  This setting overrides K-A and brings it in-line with
# Keystone's default.
keystone_token_provider: "fernet"

# Monasca doesn't support binary type container builds
monasca_install_type: "source"

# Use the legacy port as LXC services are configured to use it
#monasca_api_port: 8070
monasca_api_port: 8082

# Roles which grant read/write access to Monasca APIs
monasca_default_authorized_roles:
  - admin
  - monasca-user

# Roles which grant write access to Monasca APIs
monasca_agent_authorized_roles:
  - monasca-agent

#NOTE(wszumski): Disabled on alt-1 due to RAM limitations
# Default size causes ES to fall over very easily
#es_heap_size: "24g"

# Settings to ensure backwords compatibility with Queens Monasca deployment
monasca_grafana_server_port: "3000"
monasca_control_plane_project: "monasca"
monasca_grafana_admin_username: "grafana-admin"

# Use Curator to manage log file retention
enable_elasticsearch_curator: True

# Opt into ELK 6 upgrade.
# NOTE(dszumski): This can be removed in Ussuri.
monasca_logstash_use_v6: True
elasticsearch_use_v6: True
kibana_use_v6: True

# Container image tags.
# These should be allowed to change independently, as services are updated.

barbican_tag: 9.0.1.2-1
cron_tag: 9.0.1.2-1
elasticsearch_tag: 9.1.1.0-0
elasticsearch_curator_tag: 9.1.1.0-0
fluentd_tag: 9.2.0.2-1
glance_tag: 9.0.1.2-1
haproxy_tag: 9.0.1.2-1
heat_tag: 9.0.1.2-1
horizon_tag: 9.0.1.2-1
influxdb_tag: 9.0.1.2-1
ironic_tag: 9.0.1.2-1
iscsid_tag: 9.0.1.2-1
kafka_tag: 9.0.1.2-1
keepalived_tag: 9.0.1.2-1
keystone_tag: 9.0.1.2-1
kibana_tag: 9.1.1.0-0
kolla_toolbox_tag: 9.0.1.2-1
logstash_tag: 9.0.1.2-1
magnum_tag: 9.3.1.1-1
manila_tag: 9.0.1.2-1
mariadb_tag: 9.0.1.2-1
mariabackup_tag: 9.0.1.2-1
memcached_tag: 9.0.1.2-1
monasca_tag: 9.0.1.2-1
monasca_api_tag: 9.0.1.2-1
monasca_grafana_tag: 9.0.1.2-1
monasca_log_api_tag: 9.0.1.2-1
monasca_logstash_tag: 9.1.1.0-0
monasca_notification_tag: 9.0.1.2-1
monasca_persister_tag: 9.0.1.2-1
monasca_thresh_tag: 9.1.1.0-0
neutron_tag: 9.1.0.1-1
neutron_mlnx_agent_tag: 9.2.0.1-3
nova_tag: 9.0.1.2-1
nova_compute_tag: 9.1.0.1-2
octavia_tag: 9.0.1.2-1
openvswitch_tag: 9.0.1.2-1
placement_tag: 9.0.1.2-1
rabbitmq_tag: 9.0.1.2-1
# Use the pike release of Sahara, since our changes have not been ported to
# later releases.
sahara_tag: 5.0.3.3-1
storm_tag: 9.1.1.0-0
zookeeper_tag: 9.0.1.2-1
tgtd_tag: 9.0.1.2-1

enable_tgtd: true

# Physnet to device mappings for SR-IOV, used for the pci
# passthrough whitelist and sriov-agent configs
neutron_sriov_physnet_mappings:
  physnet1: eno1
  physnet2: enp3s0f1
  physnet3: ib0

neutron_mlnx_physnet_mappings:
  physnet3: ib0

# These are all on numa node 0. PCPU 0 is reserved for the hypervisor.
# cat /sys/devices/system/node/node0/cpulist
nova_cpu_dedicated_set: 2,4,6,8,10,12,14,16,18,20,22

# PCPUs from node1. PCPU 1 is reserved for the hypervisor.
nova_cpu_shared_set: 3,5,7,9,11,13,15,17,19,21,23
